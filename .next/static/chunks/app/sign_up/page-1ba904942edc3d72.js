(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{1958:function(e,t,n){Promise.resolve().then(n.bind(n,9151))},9151:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(7334),r=n(3824),s=n(7009),c=n(4733),i=n(3780),l=n(5832);function u(){let[e,t]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[x,m]=(0,s.useState)(!1);async function p(t){if(t.preventDefault(),n!==o)return alert("两次输入的密码不一致");m(!0);try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,password:n,code:f})});if(!t.ok)throw Error(await t.text());location.href="/sign_in"}catch(e){alert(e.message||"注册失败")}finally{m(!1)}}return(0,a.jsx)("main",{className:"min-h-screen grid place-items-center px-4",children:(0,a.jsx)(c.Z,{title:"注册 Deepseek",footer:(0,a.jsxs)(a.Fragment,{children:["已有账号？",(0,a.jsxs)(r.default,{className:"text-blue-600",href:"/sign_in",children:[" ","返回登录"," "]})]}),children:(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsx)(l.I,{placeholder:"请输入手机号",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)(l.I,{type:"password",placeholder:"请输入密码",value:n,onChange:e=>u(e.target.value)}),(0,a.jsx)(l.I,{type:"password",placeholder:"请再次输入密码",value:o,onChange:e=>d(e.target.value)}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.I,{className:"flex-1",placeholder:"请输入验证码",value:f,onChange:e=>h(e.target.value)}),(0,a.jsx)(i.z,{type:"button",className:"whitespace-nowrap",onClick:async()=>{alert((await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e})})).ok?"验证码已发送(开发环境Mock)":"发送失败")},children:"发送验证码"})]}),(0,a.jsx)(i.z,{className:"w-full",disabled:x,children:x?"注册中...":"注册"})]})})})}},4733:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(7334);function r(e){let{title:t,children:n,footer:r}=e;return(0,a.jsxs)("div",{className:"card w-full max-w-xl p-10",children:[(0,a.jsxs)("div",{className:"mb-6 text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-2 h-12 w-12 rounded-full bg-blue-500"}),(0,a.jsx)("div",{className:"text-2xl font-semibold",children:"deepseek"})]}),(0,a.jsx)("div",{className:"mb-4 text-center text-sm text-gray-500",children:t}),n,r&&(0,a.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:r})]})}},3780:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var a=n(7334);let r=(0,n(7009).forwardRef)(function(e,t){let{className:n="",variant:r="primary",...s}=e;return(0,a.jsx)("button",{ref:t,...s,className:"".concat("primary"===r?"btn-primary":"px-3 py-2 rounded-md hover:bg-gray-100"," ").concat(n)})})},5832:function(e,t,n){"use strict";n.d(t,{I:function(){return s},g:function(){return c}});var a=n(7334),r=n(7009);let s=(0,r.forwardRef)(function(e,t){let{className:n="",...r}=e;return(0,a.jsx)("input",{ref:t,...r,className:"input ".concat(n)})}),c=(0,r.forwardRef)(function(e,t){let{className:n="",...r}=e;return(0,a.jsx)("textarea",{ref:t,...r,className:"input ".concat(n)})})},3824:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var a=n(8024),r=n.n(a)}},function(e){e.O(0,[24,856,759,744],function(){return e(e.s=1958)}),_N_E=e.O()}]);